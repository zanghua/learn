## 基础知识

### Java是怎么运行的

* 编译：Java 代码 -> 编译成字节码，大致执行流程：Java 源代码 -> 词法分析器 -> 语法分析器 -> 语义分析器 -> 字节码生成器 -> 最终生成字节码。
* 运行：Hotspot[hatspat] JVM使用类加载器（Class Loader） -> 字节码校验 -> 翻译成机器码 -> 交由操作系统执行。
* 类加载器：
* 不是所有代码都是解释执行的，以 Hotspot 虚拟机来说，它本身提供了 JIT（Just In Time）动态编译器,它能够在运行时将热点代码编译为机器码，这时字节码就变成了【编译执行】。
* Java 虚拟机判定热点代码的方式
    * 基于采样的热点判定:周期性的检查各个线程的栈顶,若某个方法经常出现在栈顶。缺点是很难精确一个方法的热度，容易受到线程阻塞或外界因素的影响。
    * 基于计数器的热点判定：虚拟机给每一个方法甚至代码块建立了一个计数器，统计方法的执行次数，超过一定的阀值则标记为此方法为热点方法。
        * 方法调用计数器：主要就是虚拟机给每一个方法甚至代码块建立了一个计数器，统计方法的执行次数，超过一定的阀值则标记为此方法为热点方法。
        * 回边计数器：主要统计的是方法中循环体代码执行的次数。

### JDK/JRE/JVM
* JDK（Java Development Kit）Java 开发工具包，它包括：编译器、Java 运行环境（JRE，Java Runtime Environment）、JVM（Java 虚拟机）监控和诊断工具等.
* 